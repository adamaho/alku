@layer base {
  :root {
    --m-duration-1: 100ms;
    --m-duration-2: 200ms;
    --m-duration-3: 300ms;
    --m-duration-4: 500ms;
    --m-bezier-1: cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes m-fade-in {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes m-fade-out {
    from {
      opacity: 1;
    }

    to {
      opacity: 0;
    }
  }

  @keyframes m-slide-up {
    from {
      transform: translateY(6px) scale(0.97);
    }

    to {
      transform: translateY(0) scale(1);
    }
  }

  @keyframes m-slide-down {
    from {
      transform: translateY(-6px) scale(0.97);
    }

    to {
      transform: translateY(0) scale(1);
    }
  }

  @keyframes m-slide-left {
    from {
      transform: translateX(6px) scale(0.97);
    }

    to {
      transform: translateX(0) scale(1);
    }
  }

  @keyframes m-slide-right {
    from {
      transform: translateX(-6px) scale(0.97);
    }

    to {
      transform: translateX(0) scale(1);
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    .m-popper {
      animation-timing-function: var(--m-transition-function-1);

      &:where([data-state="delayed-open"], [data-state="open"]) {
        animation-duration: var(--m-duration-3);

        &:where([data-side="top"]) {
          animation-name: m-slide-up, m-fade-in;
        }

        &:where([data-side="bottom"]) {
          animation-name: m-slide-down, m-fade-in;
        }

        &:where([data-side="left"]) {
          animation-name: m-slide-left, m-fade-in;
        }

        &:where([data-side="right"]) {
          animation-name: m-slide-right, m-fade-in;
        }
      }

      &:where([data-state="closed"]) {
        animation-duration: var(--c3-transition-duration-2);
        animation-direction: reverse;

        &:where(
            [data-side="top"],
            [data-side="bottom"],
            [data-side="left"],
            [data-side="right"]
          ) {
          animation-name: m-slide-up, m-fade-out;
        }
      }
    }
  }
}
